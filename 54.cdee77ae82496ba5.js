(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[54],{7941:(T,P)=>{function h(u){if(u)return function(u){for(var f in h.prototype)u[f]=h.prototype[f];return u}(u)}P.Q=h,h.prototype.on=h.prototype.addEventListener=function(u,f){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(f),this},h.prototype.once=function(u,f){function e(){this.off(u,e),f.apply(this,arguments)}return e.fn=f,this.on(u,e),this},h.prototype.off=h.prototype.removeListener=h.prototype.removeAllListeners=h.prototype.removeEventListener=function(u,f){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+u];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+u],this;for(var C,v=0;v<e.length;v++)if((C=e[v])===f||C.fn===f){e.splice(v,1);break}return 0===e.length&&delete this._callbacks["$"+u],this},h.prototype.emitReserved=h.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var f=new Array(arguments.length-1),e=this._callbacks["$"+u],C=1;C<arguments.length;C++)f[C-1]=arguments[C];if(e){C=0;for(var v=(e=e.slice(0)).length;C<v;++C)e[C].apply(this,f)}return this},h.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},h.prototype.hasListeners=function(u){return!!this.listeners(u).length}},6412:T=>{function P(h){this.ms=(h=h||{}).min||100,this.max=h.max||1e4,this.factor=h.factor||2,this.jitter=h.jitter>0&&h.jitter<=1?h.jitter:0,this.attempts=0}T.exports=P,P.prototype.duration=function(){var h=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var y=Math.random(),u=Math.floor(y*this.jitter*h);h=0==(1&Math.floor(10*y))?h-u:h+u}return 0|Math.min(h,this.max)},P.prototype.reset=function(){this.attempts=0},P.prototype.setMin=function(h){this.ms=h},P.prototype.setMax=function(h){this.max=h},P.prototype.setJitter=function(h){this.jitter=h}},3125:T=>{try{T.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(P){T.exports=!1}},9943:(T,P)=>{P.encode=function(h){var y="";for(var u in h)h.hasOwnProperty(u)&&(y.length&&(y+="&"),y+=encodeURIComponent(u)+"="+encodeURIComponent(h[u]));return y},P.decode=function(h){for(var y={},u=h.split("&"),f=0,e=u.length;f<e;f++){var C=u[f].split("=");y[decodeURIComponent(C[0])]=decodeURIComponent(C[1])}return y}},6003:T=>{var P=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,h=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];T.exports=function(e){var C=e,v=e.indexOf("["),w=e.indexOf("]");-1!=v&&-1!=w&&(e=e.substring(0,v)+e.substring(v,w).replace(/:/g,";")+e.substring(w,e.length));for(var O=P.exec(e||""),m={},S=14;S--;)m[h[S]]=O[S]||"";return-1!=v&&-1!=w&&(m.source=C,m.host=m.host.substring(1,m.host.length-1).replace(/;/g,":"),m.authority=m.authority.replace("[","").replace("]","").replace(/;/g,":"),m.ipv6uri=!0),m.pathNames=function(f,e){var v=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&v.splice(0,1),"/"==e.substr(e.length-1,1)&&v.splice(v.length-1,1),v}(0,m.path),m.queryKey=function(f,e){var C={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(v,w,O){w&&(C[w]=O)}),C}(0,m.query),m}},1334:T=>{"use strict";var e,P="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),y={},u=0,f=0;function C(O){var m="";do{m=P[O%64]+m,O=Math.floor(O/64)}while(O>0);return m}function w(){var O=C(+new Date);return O!==e?(u=0,e=O):O+"."+C(u++)}for(;f<64;f++)y[P[f]]=f;w.encode=C,w.decode=function(O){var m=0;for(f=0;f<O.length;f++)m=64*m+y[O.charAt(f)];return m},T.exports=w},4698:(T,P,h)=>{"use strict";h.d(P,{a:()=>O});var y=h(8260),u=h(4753),f=h(2835),e=h(9433),C=h(3668),v=h(4522),w=h(7686);let O=(()=>{class m{constructor(b,x){this.http=b,this.authService=x,this.url=`${y.N.url_api}/chat`}getAllChats(){return this.http.get(this.url).pipe((0,u.U)(b=>(b=this.cleanChats(b),this.sortChats(b))),(0,f.K)(b=>this.handleError(b)))}getChatId(b){return this.http.post(`${this.url}/getChatId`,{to:b}).pipe((0,f.K)(x=>this.handleError(x)))}getFromUser(b){return this.http.get(`${this.url}/getFromUser/${b}`).pipe((0,f.K)(x=>this.handleError(x)))}handleError(b){return 401===b.status?(this.authService.logout(),(0,e._)("Unauthorized")):(0,e._)("Error unexpected")}sortChats(b){return b.sort((x,A)=>x.lastMessage?A.lastMessage?x.lastMessage.updatedAt>A.lastMessage.updatedAt?-1:1:x.lastMessage.updatedAt>A.createdAt?-1:1:A.lastMessage?x.updatedAt>A.lastMessage.updatedAt?-1:1:x.updatedAt>A.createdAt?-1:1),b}cleanChats(b){const x=this.authService.getMyUser();return b.filter(q=>q.lastMessage||q.users[0]._id==x._id)}}return m.\u0275fac=function(b){return new(b||m)(C.LFG(v.eN),C.LFG(w.e))},m.\u0275prov=C.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},1280:(T,P,h)=>{"use strict";h.d(P,{$:()=>l});var y={};h.r(y),h.d(y,{Decoder:()=>ae,Encoder:()=>Ye,PacketType:()=>g,protocol:()=>be});var u={};h.r(u),h.d(u,{Manager:()=>V,Socket:()=>ce,connect:()=>U,default:()=>U,io:()=>U,protocol:()=>be});var f=h(3668),e=h(8305),C=h(3174),v=h(6003),O=h(3125);const m="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function S(i){const t=i.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||O))return new XMLHttpRequest}catch(n){}if(!t)try{return new(m[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function b(i,...t){return t.reduce((n,s)=>(i.hasOwnProperty(s)&&(n[s]=i[s]),n),{})}const x=setTimeout,A=clearTimeout;function q(i,t){t.useNativeTimers?(i.setTimeoutFn=x.bind(m),i.clearTimeoutFn=A.bind(m)):(i.setTimeoutFn=setTimeout.bind(m),i.clearTimeoutFn=clearTimeout.bind(m))}var N=h(7941);const k=Object.create(null);k.open="0",k.close="1",k.ping="2",k.pong="3",k.message="4",k.upgrade="5",k.noop="6";const E=Object.create(null);Object.keys(k).forEach(i=>{E[k[i]]=i});const Y={type:"error",data:"parser error"},X="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Oe="function"==typeof ArrayBuffer,ue=(i,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+s)},n.readAsDataURL(i)},D=({type:i,data:t},n,s)=>X&&t instanceof Blob?n?s(t):ue(t,s):Oe&&(t instanceof ArrayBuffer||(i=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer)(t))?n?s(t):ue(new Blob([t]),s):s(k[i]+(t||""));for(var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Q=0;Q<B.length;Q++)F[B.charCodeAt(Q)]=Q;const we="function"==typeof ArrayBuffer,Ae=(i,t)=>{if(we){const n=function(i){var s,d,_,M,I,t=.75*i.length,n=i.length,c=0;"="===i[i.length-1]&&(t--,"="===i[i.length-2]&&t--);var he=new ArrayBuffer(t),W=new Uint8Array(he);for(s=0;s<n;s+=4)d=F[i.charCodeAt(s)],_=F[i.charCodeAt(s+1)],M=F[i.charCodeAt(s+2)],I=F[i.charCodeAt(s+3)],W[c++]=d<<2|_>>4,W[c++]=(15&_)<<4|M>>2,W[c++]=(3&M)<<6|63&I;return he}(i);return pe(n,t)}return{base64:!0,data:i}},pe=(i,t)=>"blob"===t&&i instanceof ArrayBuffer?new Blob([i]):i,de=(i,t)=>{if("string"!=typeof i)return{type:"message",data:pe(i,t)};const n=i.charAt(0);return"b"===n?{type:"message",data:Ae(i.substring(1),t)}:E[n]?i.length>1?{type:E[n],data:i.substring(1)}:{type:E[n]}:Y},fe=String.fromCharCode(30);class me extends N.Q{constructor(t){super(),this.writable=!1,q(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,n){const s=new Error(t);return s.type="TransportError",s.description=n,super.emit("error",s),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(t){const n=de(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emit("packet",t)}onClose(){this.readyState="closed",super.emit("close")}}var ge=h(1334),te=h(9943);class Ee extends me{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){((i,t)=>{const n=i.split(fe),s=[];for(let c=0;c<n.length;c++){const d=de(n[c],t);if(s.push(d),"error"===d.type)break}return s})(t,this.socket.binaryType).forEach(s=>{if("opening"===this.readyState&&"open"===s.type&&this.onOpen(),"close"===s.type)return this.onClose(),!1;this.onPacket(s)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((i,t)=>{const n=i.length,s=new Array(n);let c=0;i.forEach((d,_)=>{D(d,!1,M=>{s[_]=M,++c===n&&t(s.join(fe))})})})(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let s="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ge()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&("https"===n&&443!==Number(this.opts.port)||"http"===n&&80!==Number(this.opts.port))&&(s=":"+this.opts.port);const c=te.encode(t);return n+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(c.length?"?"+c:"")}}function Se(){}const H=null!=new S({xdomain:!1}).responseType;let $=(()=>{class i extends N.Q{constructor(n,s){super(),q(this,s),this.opts=s,this.method=s.method||"GET",this.uri=n,this.async=!1!==s.async,this.data=void 0!==s.data?s.data:null,this.create()}create(){const n=b(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd,n.xscheme=!!this.opts.xs;const s=this.xhr=new S(n);try{s.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let c in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(c)&&s.setRequestHeader(c,this.opts.extraHeaders[c])}}catch(c){}if("POST"===this.method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(c){}try{s.setRequestHeader("Accept","*/*")}catch(c){}"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{4===s.readyState&&(200===s.status||1223===s.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof s.status?s.status:0)},0))},s.send(this.data)}catch(c){return void this.setTimeoutFn(()=>{this.onError(c)},0)}"undefined"!=typeof document&&(this.index=i.requestsCount++,i.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(n){this.emit("data",n),this.onSuccess()}onError(n){this.emit("error",n),this.cleanup(!0)}cleanup(n){if(null!=this.xhr){if(this.xhr.onreadystatechange=Se,n)try{this.xhr.abort()}catch(s){}"undefined"!=typeof document&&delete i.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;null!==n&&this.onData(n)}abort(){this.cleanup()}}return i.requestsCount=0,i.requests={},i})();function _e(){for(let i in $.requests)$.requests.hasOwnProperty(i)&&$.requests[i].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",_e):"function"==typeof addEventListener&&addEventListener("onpagehide"in m?"pagehide":"unload",_e,!1));const K="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,n)=>n(t,0),J=m.WebSocket||m.MozWebSocket,Ce="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class se extends me{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=Ce?{}:b(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Ce?new J(t,n,s):n?new J(t,n):new J(t)}catch(c){return this.emit("error",c)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const c=n===t.length-1;D(t[n],this.supportsBinary,d=>{try{this.ws.send(d)}catch(M){}c&&K(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let s="";this.opts.port&&("wss"===n&&443!==Number(this.opts.port)||"ws"===n&&80!==Number(this.opts.port))&&(s=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=ge()),this.supportsBinary||(t.b64=1);const c=te.encode(t);return n+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(c.length?"?"+c:"")}check(){return!(!J||"__initialize"in J&&this.name===se.prototype.name)}}const Ue={websocket:se,polling:class extends Ee{constructor(t){if(super(t),"undefined"!=typeof location){const s="https:"===location.protocol;let c=location.port;c||(c=s?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||c!==t.port,this.xs=t.secure!==s}this.supportsBinary=H&&!(t&&t.forceBase64)}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new $(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",c=>{this.onError("xhr post error",c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",n=>{this.onError("xhr poll error",n)}),this.pollXhr=t}}};let ye=(()=>{class i extends N.Q{constructor(n,s={}){super(),n&&"object"==typeof n&&(s=n,n=null),n?(n=v(n),s.hostname=n.host,s.secure="https"===n.protocol||"wss"===n.protocol,s.port=n.port,n.query&&(s.query=n.query)):s.host&&(s.hostname=v(s.host).host),q(this,s),this.secure=null!=s.secure?s.secure:"undefined"!=typeof location&&"https:"===location.protocol,s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=s.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},s),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=te.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const s=function(i){const t={};for(let n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);return t}(this.opts.query);s.EIO=4,s.transport=n,this.id&&(s.sid=this.id);const c=Object.assign({},this.opts.transportOptions[n],this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ue[n](c)}open(){let n;if(this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))n="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);n=this.transports[0]}this.readyState="opening";try{n=this.createTransport(n)}catch(s){return this.transports.shift(),void this.open()}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(n){let s=this.createTransport(n),c=!1;i.priorWebsocketSuccess=!1;const d=()=>{c||(s.send([{type:"ping",data:"probe"}]),s.once("packet",j=>{if(!c)if("pong"===j.type&&"probe"===j.data){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;i.priorWebsocketSuccess="websocket"===s.name,this.transport.pause(()=>{c||"closed"!==this.readyState&&(We(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const le=new Error("probe error");le.transport=s.name,this.emitReserved("upgradeError",le)}}))};function _(){c||(c=!0,We(),s.close(),s=null)}const M=j=>{const le=new Error("probe error: "+j);le.transport=s.name,_(),this.emitReserved("upgradeError",le)};function I(){M("transport closed")}function he(){M("socket closed")}function W(j){s&&j.name!==s.name&&_()}const We=()=>{s.removeListener("open",d),s.removeListener("error",M),s.removeListener("close",I),this.off("close",he),this.off("upgrading",W)};s.once("open",d),s.once("error",M),s.once("close",I),this.once("close",he),this.once("upgrading",W),s.open()}onOpen(){if(this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let n=0;const s=this.upgrades.length;for(;n<s;n++)this.probe(this.upgrades[n])}}onPacket(n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=n.data,this.onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data)}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(n,s,c){return this.sendPacket("message",n,s,c),this}send(n,s,c){return this.sendPacket("message",n,s,c),this}sendPacket(n,s,c,d){if("function"==typeof s&&(d=s,s=void 0),"function"==typeof c&&(d=c,c=null),"closing"===this.readyState||"closed"===this.readyState)return;(c=c||{}).compress=!1!==c.compress;const _={type:n,data:s,options:c};this.emitReserved("packetCreate",_),this.writeBuffer.push(_),d&&this.once("flush",d),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},c=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?c():n()}):this.upgrading?c():n()),this}onError(n){i.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,s){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const s=[];let c=0;const d=n.length;for(;c<d;c++)~this.transports.indexOf(n[c])&&s.push(n[c]);return s}}return i.protocol=4,i})();const qe="function"==typeof ArrayBuffer,ve=Object.prototype.toString,Be="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===ve.call(Blob),Fe="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===ve.call(File);function ie(i){return qe&&(i instanceof ArrayBuffer||(i=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer)(i))||Be&&i instanceof Blob||Fe&&i instanceof File}function z(i,t){if(!i||"object"!=typeof i)return!1;if(Array.isArray(i)){for(let n=0,s=i.length;n<s;n++)if(z(i[n]))return!0;return!1}if(ie(i))return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return z(i.toJSON(),!0);for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&z(i[n]))return!0;return!1}function Je(i){const t=[],s=i;return s.data=oe(i.data,t),s.attachments=t.length,{packet:s,buffers:t}}function oe(i,t){if(!i)return i;if(ie(i)){const n={_placeholder:!0,num:t.length};return t.push(i),n}if(Array.isArray(i)){const n=new Array(i.length);for(let s=0;s<i.length;s++)n[s]=oe(i[s],t);return n}if("object"==typeof i&&!(i instanceof Date)){const n={};for(const s in i)i.hasOwnProperty(s)&&(n[s]=oe(i[s],t));return n}return i}function Le(i,t){return i.data=re(i.data,t),i.attachments=void 0,i}function re(i,t){if(!i)return i;if(i&&i._placeholder)return t[i.num];if(Array.isArray(i))for(let n=0;n<i.length;n++)i[n]=re(i[n],t);else if("object"==typeof i)for(const n in i)i.hasOwnProperty(n)&&(i[n]=re(i[n],t));return i}const be=5;var g=(()=>{return(i=g||(g={}))[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",g;var i})();class Ye{encode(t){return t.type!==g.EVENT&&t.type!==g.ACK||!z(t)?[this.encodeAsString(t)]:(t.type=t.type===g.EVENT?g.BINARY_EVENT:g.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let n=""+t.type;return(t.type===g.BINARY_EVENT||t.type===g.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data&&(n+=JSON.stringify(t.data)),n}encodeAsBinary(t){const n=Je(t),s=this.encodeAsString(n.packet),c=n.buffers;return c.unshift(s),c}}class ae extends N.Q{constructor(){super()}add(t){let n;if("string"==typeof t)n=this.decodeString(t),n.type===g.BINARY_EVENT||n.type===g.BINARY_ACK?(this.reconstructor=new Qe(n),0===n.attachments&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n);else{if(!ie(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n))}}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(void 0===g[s.type])throw new Error("unknown packet type "+s.type);if(s.type===g.BINARY_EVENT||s.type===g.BINARY_ACK){const d=n+1;for(;"-"!==t.charAt(++n)&&n!=t.length;);const _=t.substring(d,n);if(_!=Number(_)||"-"!==t.charAt(n))throw new Error("Illegal attachments");s.attachments=Number(_)}if("/"===t.charAt(n+1)){const d=n+1;for(;++n&&","!==t.charAt(n)&&n!==t.length;);s.nsp=t.substring(d,n)}else s.nsp="/";const c=t.charAt(n+1);if(""!==c&&Number(c)==c){const d=n+1;for(;++n;){const _=t.charAt(n);if(null==_||Number(_)!=_){--n;break}if(n===t.length)break}s.id=Number(t.substring(d,n+1))}if(t.charAt(++n)){const d=function(i){try{return JSON.parse(i)}catch(t){return!1}}(t.substr(n));if(!ae.isPayloadValid(s.type,d))throw new Error("invalid payload");s.data=d}return s}static isPayloadValid(t,n){switch(t){case g.CONNECT:return"object"==typeof n;case g.DISCONNECT:return void 0===n;case g.CONNECT_ERROR:return"string"==typeof n||"object"==typeof n;case g.EVENT:case g.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case g.ACK:case g.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Qe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Le(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Z(i,t,n){return i.on(t,n),function(){i.off(t,n)}}const He=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ce extends N.Q{constructor(t,n,s){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Z(t,"open",this.onopen.bind(this)),Z(t,"packet",this.onpacket.bind(this)),Z(t,"error",this.onerror.bind(this)),Z(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(He.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');n.unshift(t);const s={type:g.EVENT,data:n,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){const _=this.ids++,M=n.pop();this._registerAckCallback(_,M),s.id=_}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?this.packet(s):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){const s=this.flags.timeout;if(void 0===s)return void(this.acks[t]=n);const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===t&&this.sendBuffer.splice(d,1);n.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...d)=>{this.io.clearTimeoutFn(c),n.apply(this,[null,...d])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this.packet({type:g.CONNECT,data:t})}):this.packet({type:g.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case g.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case g.EVENT:case g.BINARY_EVENT:this.onevent(t);break;case g.ACK:case g.BINARY_ACK:this.onack(t);break;case g.DISCONNECT:this.ondisconnect();break;case g.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s)}}onevent(t){const n=t.data||[];null!=t.id&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t)}ack(t){const n=this;let s=!1;return function(...c){s||(s=!0,n.packet({type:g.ACK,id:t,data:c}))}}onack(t){const n=this.acks[t.id];"function"==typeof n&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>this.packet(t)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:g.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var ze=h(6412);class V extends N.Q{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,q(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=n.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new ze({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const c=n.parser||y;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(n=this.backoff)||void 0===n||n.setMin(t),this)}randomizationFactor(t){var n;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(n=this.backoff)||void 0===n||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(n=this.backoff)||void 0===n||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new ye(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const c=Z(n,"open",function(){s.onopen(),t&&t()}),d=Z(n,"error",_=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",_),t?t(_):s.maybeReconnectOnOpen()});if(!1!==this._timeout){const _=this._timeout;0===_&&c();const M=this.setTimeoutFn(()=>{c(),n.close(),n.emit("error",new Error("timeout"))},_);this.opts.autoUnref&&M.unref(),this.subs.push(function(){clearTimeout(M)})}return this.subs.push(c),this.subs.push(d),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Z(t,"ping",this.onping.bind(this)),Z(t,"data",this.ondata.bind(this)),Z(t,"error",this.onerror.bind(this)),Z(t,"close",this.onclose.bind(this)),Z(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s||(s=new ce(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(c=>{c?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",c)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const L={};function U(i,t){"object"==typeof i&&(t=i,i=void 0);const n=function(i,t="",n){let s=i;n=n||"undefined"!=typeof location&&location,null==i&&(i=n.protocol+"//"+n.host),"string"==typeof i&&("/"===i.charAt(0)&&(i="/"===i.charAt(1)?n.protocol+i:n.host+i),/^(https?|wss?):\/\//.test(i)||(i=void 0!==n?n.protocol+"//"+i:"https://"+i),s=v(i)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const d=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+d+":"+s.port+t,s.href=s.protocol+"://"+d+(n&&n.port===s.port?"":":"+s.port),s}(i,(t=t||{}).path||"/socket.io"),s=n.source,c=n.id;let I;return t.forceNew||t["force new connection"]||!1===t.multiplex||L[c]&&n.path in L[c].nsps?I=new V(s,t):(L[c]||(L[c]=new V(s,t)),I=L[c]),n.query&&!t.query&&(t.query=n.queryKey),I.socket(n.path,t)}Object.assign(U,{Manager:V,Socket:ce,io:U,connect:U});new f.OlP("__SOCKET_IO_CONFIG__");var o=h(8260),a=h(7686);let l=(()=>{class i extends class{constructor(t){this.config=t,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===t&&(t=this.emptyConfig),this.ioSocket=(U||u)(t.url,t.options)}of(t){this.ioSocket.of(t)}on(t,n){this.ioSocket.on(t,n)}once(t,n){this.ioSocket.once(t,n)}connect(){return this.ioSocket.connect()}disconnect(t){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(t,...n){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(t,n){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(t){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(t){return this.subscribersCounter[t]||(this.subscribersCounter[t]=0),this.subscribersCounter[t]++,this.eventObservables$[t]||(this.eventObservables$[t]=new e.y(n=>{const s=c=>{n.next(c)};return this.ioSocket.on(t,s),()=>{this.subscribersCounter[t]--,0===this.subscribersCounter[t]&&(this.ioSocket.removeListener(t,s),delete this.eventObservables$[t])}}).pipe((0,C.B)())),this.eventObservables$[t]}fromOneTimeEvent(t){return new Promise(n=>this.once(t,n))}}{constructor(n){super({url:o.N.socket_url,options:{query:{userId:JSON.parse(localStorage.getItem("auth")).user._id}}}),this.authService=n,this.url=`${o.N.url_api}`,this.socket=this.ioSocket,this.users=this.listen("connected"),this.message=this.listen("message"),this.socket=this.ioSocket}registerUser(n){console.log("Tu socket:",n)}listen(n){const s=new f.vpe;return this.socket.on(n,c=>s.emit(c)),s}emit(n,s){this.socket.emit(n,s)}}return i.\u0275fac=function(n){return new(n||i)(f.LFG(a.e))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},54:(T,P,h)=>{"use strict";h.r(P),h.d(P,{MainModule:()=>Ve});var y=h(6019),u=h(9133),f=h(9110),e=h(3668);let C=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:1,vars:0,consts:[["src","/assets/images/logo-home.png","alt","Logo de senntmessages"]],template:function(o,a){1&o&&e._UZ(0,"img",0)},styles:["[_nghost-%COMP%]{background:rgba(68,188,255,.12);display:none;height:100vh;width:100%}img[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;display:block;position:relative;top:50%;transform:translateY(-50%)}@media (min-width: 1024px){[_nghost-%COMP%]{display:block}}"]}),r})();var v=h(273),w=h(461),O=h(8260),m=h(8909),S=h(7129),b=h(8666),x=h(7686),A=h(4698),q=h(1280),N=h(9007),k=h(86),E=h(5696),Y=h(9112),X=h(2605),Oe=h(4377),G=h(7964);let xe=(()=>{class r{transform(o){let a=o;if(o){const l=new Date,i=new Date(Date.parse(o)),t=`${i.getDate()}/${D(i.getMonth())}/${i.getFullYear()}`;let n=new Date;n=`${n.getDate()}/${D(n.getMonth())}/${n.getFullYear()}`;let s=new Date(l.getTime()-864e5);s=`${s.getDate()}/${D(s.getMonth())}/${s.getFullYear()}`;let c=new Date(l.getTime()-6048e5);if(t===n){let d=i.getMinutes();d<10&&(d=`0${d}`),a=`${i.getHours()}:${d}`}else a=t===s?"Yesterday":i.getTime()>c.getTime()&&i.getTime()<l.getTime()&&i.getDay()!==l.getDay()?function(r){switch(r){default:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";case 0:return"Sunday"}}(i.getDay()):t}return a}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275pipe=e.Yjl({name:"createDate",type:r,pure:!0}),r})();function D(r){switch(r){default:return"01";case 1:return"02";case 2:return"03";case 3:return"04";case 4:return"05";case 5:return"06";case 6:return"07";case 7:return"08";case 8:return"09";case 9:return"10";case 10:return"11";case 11:return"12"}}function B(r,p){1&r&&(e.TgZ(0,"p",5),e._uU(1,"No chats found "),e._UZ(2,"br"),e._uU(3," Start one!"),e.qZA())}const F=function(r){return{read:r}};function Q(r,p){if(1&r&&(e.TgZ(0,"mat-icon",17),e._uU(1,"done_all"),e.qZA()),2&r){const o=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,F,null==o.lastMessage?null:o.lastMessage.read))}}function $e(r,p){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"photo_camera"),e.qZA())}function Me(r,p){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&r){const o=e.oxw().$implicit;e.xp6(1),e.Oqu((null==o.lastMessage?null:o.lastMessage.message)||"~~")}}function we(r,p){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&r){const o=e.oxw().$implicit;e.xp6(1),e.Oqu((null==o.lastMessage?null:o.lastMessage.message.trim())||"Photo")}}function Te(r,p){if(1&r&&(e.TgZ(0,"p"),e._UZ(1,"span",18),e.qZA()),2&r){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("matBadge",o.noRead)}}function Ae(r,p){if(1&r&&(e.TgZ(0,"div",7),e._UZ(1,"img",8),e.TgZ(2,"div",9),e.TgZ(3,"div",10),e.TgZ(4,"p",11),e._uU(5),e.qZA(),e.TgZ(6,"p",12),e._uU(7),e.ALo(8,"createDate"),e.qZA(),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"div",14),e.YNc(11,Q,2,3,"mat-icon",15),e.YNc(12,$e,2,0,"mat-icon",16),e.YNc(13,Me,2,1,"p",16),e.YNc(14,we,2,1,"p",16),e.qZA(),e.YNc(15,Te,2,1,"p",16),e.qZA(),e.qZA(),e.qZA()),2&r){const o=p.$implicit,a=e.oxw(3);e.MGl("routerLink","/chat/",o._id,""),e.xp6(1),e.Q6J("src",a.getUser(o.users).image.url,e.LSH)("alt",a.user.name),e.xp6(4),e.Oqu(a.getUser(o.users).name),e.xp6(2),e.Oqu(e.lcZ(8,10,(null==o.lastMessage?null:o.lastMessage.createdAt)||o.updatedAt)),e.xp6(4),e.Q6J("ngIf",(null==o.lastMessage?null:o.lastMessage.from)===a.user._id),e.xp6(1),e.Q6J("ngIf",null==o.lastMessage?null:o.lastMessage.image),e.xp6(1),e.Q6J("ngIf",!(null!=o.lastMessage&&o.lastMessage.image)),e.xp6(1),e.Q6J("ngIf",null==o.lastMessage?null:o.lastMessage.image),e.xp6(1),e.Q6J("ngIf",o.noRead&&o.noRead>0)}}function pe(r,p){if(1&r&&e.YNc(0,Ae,16,12,"div",6),2&r){const o=e.oxw(2);e.Q6J("ngForOf",o.chats)}}function de(r,p){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,B,4,0,"p",3),e.YNc(2,pe,1,1,"ng-template",null,4,e.W1O),e.qZA()),2&r){const o=e.MAs(3),a=e.oxw();e.xp6(1),e.Q6J("ngIf",a.chats.length<1)("ngIfElse",o)}}function fe(r,p){1&r&&e._UZ(0,"mat-spinner",19)}let ke=(()=>{class r{constructor(o,a,l){this.authService=o,this.chatService=a,this.store=l}ngOnInit(){this.user=this.authService.getMyUser(),this.updateChats.subscribe(o=>this.getChats()),this.getChats(),this.subcribeChats()}getUser(o){return o.find(a=>a._id!=this.user._id)}getChats(){this.chatService.getAllChats().subscribe(o=>{this.store.dispatch(new b.vh(o))})}subcribeChats(){this.store.select("chats").subscribe(o=>{this.chats=this.chatService.sortChats([...o])})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(x.e),e.Y36(A.a),e.Y36(N.yh))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-chats"]],inputs:{updateChats:"updateChats"},decls:3,vars:2,consts:[["class","chats",4,"ngIf","ngIfElse"],["loading",""],[1,"chats"],["class","textNoFound",4,"ngIf","ngIfElse"],["chatsContainer",""],[1,"textNoFound"],["routerLinkActive","active","class","chat",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"chat",3,"routerLink"],[3,"src","alt"],[1,"chat__info"],[1,"user"],[1,"user__name"],[1,"chat__info__time"],[1,"chat__div-message"],[1,"chat__info__message"],["class","icon-done",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"icon-done",3,"ngClass"],["matBadgeOverlap","false",3,"matBadge"],["id","loading",1,"spinner-chat"]],template:function(o,a){if(1&o&&(e.YNc(0,de,4,2,"div",0),e.YNc(1,fe,1,0,"ng-template",null,1,e.W1O)),2&o){const l=e.MAs(2);e.Q6J("ngIf",a.chats)("ngIfElse",l)}},directives:[y.O5,y.sg,f.Od,f.rH,Y.Hw,y.mk,Oe.k,G.$g],pipes:[xe],styles:[".chat[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;align-items:center;padding:11px 20px 11px 14px}.chat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:47px;height:47px;border-radius:50px;object-fit:cover;margin-right:10px}.chat__info[_ngcontent-%COMP%]{border-bottom:1px solid #efefef;padding-bottom:5px;padding-top:6.5px;width:100%;height:54px}.chat__info__time[_ngcontent-%COMP%]{color:#446678;font-size:12px}.chat__info__message[_ngcontent-%COMP%]{color:#535353;font-size:16px;display:flex;align-items:center;white-space:nowrap;margin-right:5px!important;overflow:hidden}.chat__info__message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;text-overflow:ellipsis;overflow:hidden}.chat__info__message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:scale(.7)}.chat__info__message[_ngcontent-%COMP%]   .read[_ngcontent-%COMP%]{color:#009ef7}.chat__div-message[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 22px;align-items:center;height:28px}.chat[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{max-width:18px;max-height:18px}.chat[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center}.chat[_ngcontent-%COMP%]   .user__name[_ngcontent-%COMP%]{font-size:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:10px!important}.chat[_ngcontent-%COMP%]:hover{background:#f9f9f9}.chat.active[_ngcontent-%COMP%]{background:#f0f0f0}.textNoFound[_ngcontent-%COMP%]{text-align:center;font-size:17px;margin-top:30px!important;color:#8a8a8a}"]}),r})();var Ze=h(9463),ee=h(3593);function me(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",8),e.NdJ("click",function(){return e.CHM(o),e.oxw().cleanSearch()}),e._uU(1,"close"),e.qZA()}}function ge(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){const i=e.CHM(o).$implicit;return e.oxw(2).createChat(i._id,i.chatId)}),e._UZ(1,"img",11),e.TgZ(2,"div",12),e.TgZ(3,"div",13),e.TgZ(4,"p",14),e._uU(5),e.qZA(),e.TgZ(6,"p",15),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"mat-icon"),e._uU(9,"comment"),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=p.$implicit;e.xp6(1),e.Q6J("src",o.image.url,e.LSH)("alt",o.name),e.xp6(4),e.Oqu(o.name),e.xp6(2),e.Oqu(o.username)}}function te(r,p){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ge,10,4,"div",9),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.users)}}function Ee(r,p){1&r&&(e.TgZ(0,"p",16),e._uU(1,"No users found."),e.qZA())}let Se=(()=>{class r{constructor(o,a,l,i){this.userService=o,this.chatService=a,this.authService=l,this.router=i,this.chatsUpdated=new e.vpe,this.inputSearch=new u.NI}ngOnInit(){this.getUsers()}getUsers(){this.userService.getAll().subscribe(o=>{this.users=o,this.allUsers=o})}createChat(o,a){a?this.router.navigate([`/chat/${a}`]):(this.loading(),this.chatService.getChatId(o).subscribe(l=>{this.users.find(i=>i._id==o).chatId=l._id,this.chatsUpdated.emit(),this.router.navigate([`/chat/${l._id}`]),this.loading(!1)}))}loading(o=!0){const a=document.getElementById("loading");o?a.style.display="block":setTimeout(()=>{a.style.display="none"},1e3)}cleanSearch(){document.getElementById("inputSearch").focus(),this.inputSearch.setValue("")}search(o=!0){o?this.searchSubscription=this.inputSearch.valueChanges.pipe((0,Ze.b)(100)).subscribe(a=>{const l=this.allUsers.filter(i=>{const t=i.name.toUpperCase(),n=i.username.toUpperCase(),s=a.toUpperCase();return!(!t.includes(s)&&!n.includes(s))&&i});this.users=l}):this.searchSubscription.unsubscribe()}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(ee.K),e.Y36(A.a),e.Y36(x.e),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users"]],outputs:{chatsUpdated:"chatsUpdated"},decls:10,vars:4,consts:[[1,"users"],[1,"search"],["type","text","id","inputSearch","placeholder","Search users by name and username","autocomplete","off",3,"formControl","focus","blur"],[1,"search-icon"],["id","loading",1,"spinner-users"],["id","clean-search",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["noFound",""],["id","clean-search",3,"click"],["class","user",3,"click",4,"ngFor","ngForOf"],[1,"user",3,"click"],[3,"src","alt"],[1,"data"],[1,"data__text"],[1,"name"],[1,"username"],[1,"textNoFound"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"input",2),e.NdJ("focus",function(){return a.search()})("blur",function(){return a.search(!1)}),e.qZA(),e.TgZ(3,"mat-icon",3),e._uU(4,"search"),e.qZA(),e._UZ(5,"mat-spinner",4),e.YNc(6,me,2,0,"mat-icon",5),e.qZA(),e.YNc(7,te,2,1,"div",6),e.YNc(8,Ee,2,0,"ng-template",null,7,e.W1O),e.qZA()),2&o){const l=e.MAs(9);e.xp6(2),e.Q6J("formControl",a.inputSearch),e.xp6(4),e.Q6J("ngIf",a.inputSearch.value),e.xp6(1),e.Q6J("ngIf",(null==a.users?null:a.users.length)>0)("ngIfElse",l)}},directives:[u.Fj,u.JJ,u.oH,Y.Hw,G.$g,y.O5,y.sg],styles:[".users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer;display:grid;padding:10px 20px;grid-template-columns:auto 1fr}.users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50px;object-fit:cover;margin-right:10px}.users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 24px;align-items:center;border-bottom:1px solid #efefef;padding-bottom:5px;padding-top:3px}.users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .data__text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:11px}.users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .data__text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px}.users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .data__text[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:14px;color:#446678}.users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .data__text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;margin-right:4px!important}.users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#446678}.users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:hover{background:#f7f7f7}.users[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;border-bottom:1px solid #efefef;position:sticky;top:0;background:#fff}.users[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;width:94%;margin:10px auto;background:#44bcff59;padding:10px 30px 10px 42px;border-radius:50px;color:#686868}.users[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   mat-icon.search-icon[_ngcontent-%COMP%]{position:absolute;left:5.2%;top:16px;color:#919191}.users[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   #clean-search[_ngcontent-%COMP%]{width:15px!important;height:15px!important;color:#919191;cursor:pointer;position:absolute;right:7%;top:16px}.textNoFound[_ngcontent-%COMP%]{text-align:center;font-size:17px;margin-top:30px!important;color:#8a8a8a}@media (min-width: 400px){.users[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   #clean-search[_ngcontent-%COMP%]{right:6%}}@media (min-width: 600px){.users[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   #clean-search[_ngcontent-%COMP%]{right:5%}}@media (min-width: 1024px){.users[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   #clean-search[_ngcontent-%COMP%]{right:6.5%}}"]}),r})();var H=h(7003),R=h(3019),$=h(138),_e=h(1572),K=h(8167);function J(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(31);return l.toggleEdit(i)}),e._uU(1,"edit"),e.qZA()}}function ne(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",32),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(31);return l.toggleEdit(i,!0)}),e._uU(1,"close"),e.qZA()}}function Ne(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",33),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(31);return l.save(i)}),e._uU(1,"check"),e.qZA()}}function Ce(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Must have at least 3 letters "),e.qZA())}function se(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Name is required "),e.qZA())}function Ue(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(42);return l.toggleEdit(i)}),e._uU(1,"edit"),e.qZA()}}function ye(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",32),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(42);return l.toggleEdit(i,!0)}),e._uU(1,"close"),e.qZA()}}function Ie(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",33),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(42);return l.save(i)}),e._uU(1,"check"),e.qZA()}}function Ke(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Must have at least 3 letters "),e.qZA())}function qe(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Username is required "),e.qZA())}function Re(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Username is already in use "),e.qZA())}function ve(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(54);return l.toggleEdit(i)}),e._uU(1,"edit"),e.qZA()}}function Be(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",32),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(54);return l.toggleEdit(i,!0)}),e._uU(1,"close"),e.qZA()}}function Fe(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"mat-icon",33),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(),i=e.MAs(54);return l.save(i)}),e._uU(1,"check"),e.qZA()}}function ie(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function z(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Email is already in use "),e.qZA())}function Je(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Email is required "),e.qZA())}function oe(r,p){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function Le(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleChangePassword()}),e._uU(1,"Change password"),e.qZA()}}function re(r,p){1&r&&(e.TgZ(0,"p",35),e._uU(1,"Password updated successfully"),e.qZA())}function be(r,p){1&r&&e._UZ(0,"mat-spinner",46)}function g(r,p){1&r&&(e.TgZ(0,"p",47),e._uU(1,"The current password is incorrect"),e.qZA())}function Ye(r,p){1&r&&(e.TgZ(0,"p",47),e._uU(1,"All fields are required"),e.qZA())}function ae(r,p){1&r&&(e.TgZ(0,"p",47),e._uU(1,"The new password must have at least 8 letters"),e.qZA())}function De(r,p){1&r&&(e.TgZ(0,"p",47),e._uU(1,"Confirm password don't match"),e.qZA())}function Qe(r,p){if(1&r){const o=e.EpF();e.TgZ(0,"form",36),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().changePassword()}),e.TgZ(1,"div",37),e.TgZ(2,"p"),e._uU(3,"Change your password"),e.qZA(),e.YNc(4,be,1,0,"mat-spinner",38),e.qZA(),e.YNc(5,g,2,0,"p",39),e.YNc(6,Ye,2,0,"p",39),e.YNc(7,ae,2,0,"p",39),e.YNc(8,De,2,0,"p",39),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-label"),e._uU(11,"Actual password"),e.qZA(),e._UZ(12,"input",40),e.TgZ(13,"button",41),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return l.hide.one=!l.hide.one}),e.TgZ(14,"mat-icon"),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"mat-form-field"),e.TgZ(17,"mat-label"),e._uU(18,"New password"),e.qZA(),e._UZ(19,"input",42),e.TgZ(20,"button",41),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return l.hide.two=!l.hide.two}),e.TgZ(21,"mat-icon"),e._uU(22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"mat-form-field"),e.TgZ(24,"mat-label"),e._uU(25,"Confirm new password"),e.qZA(),e._UZ(26,"input",43),e.TgZ(27,"button",41),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return l.hide.three=!l.hide.three}),e.TgZ(28,"mat-icon"),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",44),e.TgZ(31,"button",34),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleChangePassword(!1)}),e._uU(32,"Cancel"),e.qZA(),e.TgZ(33,"button",45),e._uU(34,"Save"),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("formGroup",o.formChangePassword),e.xp6(4),e.Q6J("ngIf",o.loadingChange),e.xp6(1),e.Q6J("ngIf",o.errChangedPassword),e.xp6(1),e.Q6J("ngIf",o.requiredChangePassword),e.xp6(1),e.Q6J("ngIf",o.minLength&&!o.requiredChangePassword),e.xp6(1),e.Q6J("ngIf",o.dontMatch&&!o.requiredChangePassword&&!o.minLength),e.xp6(4),e.Q6J("type",o.hide.one?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",o.hide),e.xp6(2),e.Oqu(o.hide.one?"visibility_off":"visibility"),e.xp6(4),e.Q6J("type",o.hide.two?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",o.hide),e.xp6(2),e.Oqu(o.hide.two?"visibility_off":"visibility"),e.xp6(4),e.Q6J("type",o.hide.three?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",o.hide),e.xp6(2),e.Oqu(o.hide.three?"visibility_off":"visibility")}}let Z=(()=>{class r{constructor(o,a,l,i){this.authService=o,this.userService=a,this.formBuilder=l,this.store=i,this.eventOpenAlert=new v.x,this.disabled=!1,this.loadingChange=!1,this.okChangedPassword=!1,this.hide={one:!0,two:!0,three:!0},this.showChangePassword=!1,this.errChangedPassword=!1}ngOnInit(){this.store.select("user").subscribe(o=>this.user=o),this.loadUser(),this.createChangePassword()}closeProfile(){const o=document.getElementById("div_profile");o.classList.add("animate__slideOutLeft"),setTimeout(()=>{o.style.display="none",o.classList.remove("animate__slideOutLeft")},500)}loadUser(){this.name=new u.NI({value:this.user.name,disabled:!0},[u.kI.required,u.kI.minLength(3)]),this.username=new u.NI({value:this.user.username,disabled:!0},[u.kI.required,u.kI.minLength(3)],H.R.validateUsername(this.authService)),this.email=new u.NI({value:this.user.email,disabled:!0},[u.kI.required,u.kI.email],[H.R.validateEmail(this.authService),H.R.emailIsValid(this.userService)])}toggleEdit(o,a=!1,l=!1){a?(o.value=l||this.user[o.name],this[o.name].value=l||this.user[o.name],o.disabled=!0,this[o.name].disable(),this[o.name].markAsUntouched()):(this[o.name].enable(),o.disabled=!1,o.focus())}toggleChangePassword(o=!0){this.loadingChange=!1,this.errChangedPassword=!1,this.showChangePassword=o}save(o){const a=o.name,l=this[a].value;this[a].valid&&(l!=this.user[a]?this.userService.updateProfile(a,l).subscribe(i=>{this.saveUserUpdated(i),this.toggleEdit(o,!0,l)}):this.toggleEdit(o,!0))}saveUserUpdated(o){const l={token:this.authService.getAuth().token,user:o};this.authService.saveAuth(l)}createChangePassword(){this.formChangePassword=this.formBuilder.group({actual:["",[u.kI.required]],password:["",[u.kI.required,u.kI.minLength(8)]],password2:["",[u.kI.required]]},{validators:H.R.matchPasswords})}changePassword(){if(this.formChangePassword.valid){this.loadingChange=!0;const o=this.formChangePassword.get("actual").value,a=this.formChangePassword.get("password").value;this.authService.changePassword(o,a).subscribe(l=>{this.okChangedPassword=!0,this.loadingChange=!1,this.errChangedPassword=!1,this.cleanFormChangePassword()},l=>{this.errChangedPassword=!0,this.loadingChange=!1})}else this.formChangePassword.markAllAsTouched()}cleanFormChangePassword(){this.formChangePassword.reset(),this.formChangePassword.markAsUntouched(),this.formChangePassword.clearValidators(),this.toggleChangePassword(!1),this.hide={one:!0,two:!0,three:!0},setTimeout(()=>{this.okChangedPassword=!1},5e3)}get requiredChangePassword(){const o=this.formChangePassword.get("actual"),a=this.formChangePassword.get("password"),l=this.formChangePassword.get("password2");return o.hasError("required")&&o.touched||a.hasError("required")&&a.touched||l.hasError("required")&&l.touched}get dontMatch(){return this.formChangePassword.hasError("match_password")&&this.formChangePassword.get("password2").touched}get minLength(){const o=this.formChangePassword.get("password");return o.hasError("minlength")&&o.touched}removePhoto(){this.user.image.default&&"true"==this.user.image.default?(0,R.O)(this.eventOpenAlert,"The default image is already"):((0,R.O)(this.eventOpenAlert,"Removing profile picture..."),this.userService.updatePhoto(!1,!0).subscribe(o=>{(0,R.O)(this.eventOpenAlert,"Profile picture removed successfully"),this.authService.updateAuthUser(o)}))}sendPhoto(o){const a=new FormData;a.append("file",o),this.userService.updatePhoto(a).subscribe(l=>{this.disabled=!1,(0,R.O)(this.eventOpenAlert,"Profile picture updated successfully"),this.authService.updateAuthUser(l)})}uploadPhoto(o,a=!1){if(a){if(!this.disabled){const l=a.target.files[0];this.isImage(l)?(this.disabled=!0,(0,R.O)(this.eventOpenAlert,"Uploading...",!1),document.getElementById("inputFile").value="",this.sendPhoto(l)):a.target.files.length>0&&(a.value="",(0,R.O)(this.eventOpenAlert,"Only images allowed"))}}else this.disabled?(0,R.O)(this.eventOpenAlert,"An image is already being uploaded, please wait...",!1):o.click()}isImage(o){return"image"===(null==o?void 0:o.type.split("/")[0])}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(x.e),e.Y36(ee.K),e.Y36(u.qu),e.Y36(N.yh))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile"]],decls:67,vars:28,consts:[[1,"container"],[1,"header"],[1,"back",3,"click"],[1,"main"],[1,"image","animate__animated","animate__zoomIn","animate__faster","animate__delay-2s"],[3,"src","alt"],["mat-icon-button","","aria-label","Menu to open options to image",3,"matMenuTriggerFor"],["yPosition","above"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["type","file","accept","image/*","id","inputFile",2,"display","none",3,"change"],["file",""],[1,"inputs","animate__animated","animate__fadeInDown"],[1,"div_input"],[1,"border"],["type","text","matInput","","autocomplete","off","name","name",3,"formControl"],["input_name",""],["class","btn-edit",3,"click",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],["class","btn-save",3,"click",4,"ngIf"],[4,"ngIf"],["type","text","matInput","","autocomplete","off","name","username",3,"formControl"],["input_username",""],["type","email","matInput","","autocomplete","off","name","email",3,"formControl"],["input_email",""],[1,"change_password","animate__animated","animate__fadeInDown"],["mat-raised-button","",3,"click",4,"ngIf"],["class","alert ok",4,"ngIf"],["class","div_change_password",3,"formGroup","ngSubmit",4,"ngIf"],[3,"eventOpenAlert"],[1,"btn-edit",3,"click"],[1,"btn-close",3,"click"],[1,"btn-save",3,"click"],["mat-raised-button","",3,"click"],[1,"alert","ok"],[1,"div_change_password",3,"formGroup","ngSubmit"],[1,"text"],["id","spinner-change_password",4,"ngIf"],["class","alert error",4,"ngIf"],["matInput","","formControlName","actual",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","password",3,"type"],["matInput","","formControlName","password2",3,"type"],[1,"btns"],["type","submit","mat-raised-button","","color","primary"],["id","spinner-change_password"],[1,"alert","error"]],template:function(o,a){if(1&o){const l=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"mat-icon",2),e.NdJ("click",function(){return a.closeProfile()}),e._uU(3,"arrow_back"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Profile"),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e._UZ(8,"img",5),e.TgZ(9,"button",6),e.TgZ(10,"mat-icon"),e._uU(11,"linked_camera"),e.qZA(),e.qZA(),e.TgZ(12,"mat-menu",7,8),e.TgZ(14,"button",9),e.TgZ(15,"span"),e._uU(16,"View photo"),e.qZA(),e.qZA(),e.TgZ(17,"button",10),e.NdJ("click",function(){e.CHM(l);const t=e.MAs(24);return a.uploadPhoto(t)}),e.TgZ(18,"span"),e._uU(19,"Upload photo"),e.qZA(),e.qZA(),e.TgZ(20,"button",10),e.NdJ("click",function(){return a.removePhoto()}),e.TgZ(21,"span"),e._uU(22,"Remove photo"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"input",11,12),e.NdJ("change",function(t){return a.uploadPhoto(!1,t)}),e.qZA(),e.TgZ(25,"div",13),e.TgZ(26,"div",14),e.TgZ(27,"label"),e._uU(28,"Your name"),e.qZA(),e.TgZ(29,"div",15),e._UZ(30,"input",16,17),e.YNc(32,J,2,0,"mat-icon",18),e.YNc(33,ne,2,0,"mat-icon",19),e.YNc(34,Ne,2,0,"mat-icon",20),e.qZA(),e.YNc(35,Ce,2,0,"mat-error",21),e.YNc(36,se,2,0,"mat-error",21),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"label"),e._uU(39,"Your username"),e.qZA(),e.TgZ(40,"div",15),e._UZ(41,"input",22,23),e.YNc(43,Ue,2,0,"mat-icon",18),e.YNc(44,ye,2,0,"mat-icon",19),e.YNc(45,Ie,2,0,"mat-icon",20),e.qZA(),e.YNc(46,Ke,2,0,"mat-error",21),e.YNc(47,qe,2,0,"mat-error",21),e.YNc(48,Re,2,0,"mat-error",21),e.qZA(),e.TgZ(49,"div",14),e.TgZ(50,"label"),e._uU(51,"Your email"),e.qZA(),e.TgZ(52,"div",15),e._UZ(53,"input",24,25),e.YNc(55,ve,2,0,"mat-icon",18),e.YNc(56,Be,2,0,"mat-icon",19),e.YNc(57,Fe,2,0,"mat-icon",20),e.qZA(),e.YNc(58,ie,2,0,"mat-error",21),e.YNc(59,z,2,0,"mat-error",21),e.YNc(60,Je,2,0,"mat-error",21),e.YNc(61,oe,2,0,"mat-error",21),e.qZA(),e.qZA(),e.TgZ(62,"div",26),e.YNc(63,Le,2,0,"button",27),e.YNc(64,re,2,0,"p",28),e.YNc(65,Qe,35,18,"form",29),e.qZA(),e.qZA(),e._UZ(66,"app-mini-alert",30),e.qZA()}if(2&o){const l=e.MAs(13),i=e.MAs(31),t=e.MAs(42),n=e.MAs(54);e.xp6(8),e.Q6J("src",a.user.image.url,e.LSH)("alt",a.user.name),e.xp6(1),e.Q6J("matMenuTriggerFor",l),e.xp6(21),e.Q6J("formControl",a.name),e.xp6(2),e.Q6J("ngIf",i.disabled),e.xp6(1),e.Q6J("ngIf",!i.disabled),e.xp6(1),e.Q6J("ngIf",!i.disabled),e.xp6(1),e.Q6J("ngIf",a.name.hasError("minlength")&&a.name.touched),e.xp6(1),e.Q6J("ngIf",a.name.hasError("required")&&a.name.touched),e.xp6(5),e.Q6J("formControl",a.username),e.xp6(2),e.Q6J("ngIf",t.disabled),e.xp6(1),e.Q6J("ngIf",!t.disabled),e.xp6(1),e.Q6J("ngIf",!t.disabled),e.xp6(1),e.Q6J("ngIf",a.username.hasError("minlength")&&a.username.touched),e.xp6(1),e.Q6J("ngIf",a.username.hasError("required")&&a.username.touched),e.xp6(1),e.Q6J("ngIf",a.username.hasError("not_available")&&a.username.touched&&a.username.value!=a.user.username),e.xp6(5),e.Q6J("formControl",a.email),e.xp6(2),e.Q6J("ngIf",n.disabled),e.xp6(1),e.Q6J("ngIf",!n.disabled),e.xp6(1),e.Q6J("ngIf",!n.disabled),e.xp6(1),e.Q6J("ngIf",a.email.hasError("email")&&a.email.touched),e.xp6(1),e.Q6J("ngIf",a.email.hasError("not_available")&&a.email.touched&&a.email.value!=a.user.email),e.xp6(1),e.Q6J("ngIf",a.email.hasError("required")&&a.email.touched),e.xp6(1),e.Q6J("ngIf",a.email.hasError("not_valid")&&a.email.touched),e.xp6(2),e.Q6J("ngIf",!a.showChangePassword),e.xp6(1),e.Q6J("ngIf",a.okChangedPassword),e.xp6(1),e.Q6J("ngIf",a.showChangePassword),e.xp6(1),e.Q6J("eventOpenAlert",a.eventOpenAlert.asObservable())}},directives:[Y.Hw,k.lW,E.p6,E.VK,E.OP,$.Nt,u.Fj,u.JJ,u.oH,y.O5,_e.O,K.TO,u._Y,u.JL,u.sg,K.KE,K.hX,u.u,K.R9,G.$g],styles:["[_ngcontent-%COMP%]:root{--animate-delay: 0s}.animate__delay-2s[_ngcontent-%COMP%]{animation-delay:.2s!important}[_nghost-%COMP%]{display:none;position:absolute;top:0;z-index:100;height:100%;width:100%;background:#fff}.container[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#44BCFF;background:#446678;background:#11aaff;height:110px;height:100px;display:flex;align-items:end;padding:20px 10px 18px 15px;color:#fff}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;padding:0 15px 3px 13px}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;border-radius:50px;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background:#2bb3ff}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:calc(100% - 120px);width:100%;overflow-y:auto;overflow-x:hidden;padding:25px 30px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#91d7ff}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;width:210px;margin:0 auto}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:210px;height:210px;object-fit:cover;border-radius:50%;display:block;margin:0 auto 20px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.container   .main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img.default)[_ngcontent-%COMP%]{box-shadow:0 0 10px #ccc}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:0;right:15px;background:#40b940;color:#fff}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .div_input[_ngcontent-%COMP%]{color:#446678;position:relative;margin-bottom:8px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .div_input[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .div_input[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#324f5e;width:100%;padding:5px 52px 5px 0;background:none;border:none;outline:none;font-size:19px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .div_input[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(.container   .main[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .div_input[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled){border-bottom:1px solid #446678}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .div_input[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#446678;position:absolute;right:0;top:24px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .div_input[_ngcontent-%COMP%]   mat-icon.btn-close[_ngcontent-%COMP%]{right:25px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .change_password[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:8px 0;padding:5px 20px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .div_change_password[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px 20px;box-shadow:0 0 4px #ccc;margin-top:20px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .div_change_password[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{font-size:16px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .div_change_password[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{display:flex;justify-content:end}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .div_change_password[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px;margin-bottom:3px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .div_change_password[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:15px;margin:3px 0}.alert[_ngcontent-%COMP%]{font-size:13px;color:red;width:-moz-fit-content;width:fit-content;margin-bottom:3px}.alert.error[_ngcontent-%COMP%]{color:red}.alert.ok[_ngcontent-%COMP%]{color:#22a522}"]}),r})();function He(r,p){1&r&&(e._UZ(0,"img",22),e._uU(1," Chats "))}function ce(r,p){1&r&&(e._UZ(0,"img",23),e._uU(1," Users "))}const V=[{path:"",component:(()=>{class r{constructor(o,a,l,i,t){this.authService=o,this.chatService=a,this.router=l,this.socketService=i,this.store=t,this.eventUpdateChats=new v.x,this.authService.saveInStore(m.Q,!0),this.store.select("user").subscribe(n=>{this.user=n})}ngOnInit(){window.addEventListener("resize",()=>{this.appHeight()}),this.appHeight(),this.resize(this.router.url),this.subUrl=this.router.events.pipe((0,w.h)(o=>o instanceof f.m2)).subscribe(o=>{this.resize(o.url)}),this.listenMessages()}ngOnDestroy(){this.subUrl.unsubscribe()}appHeight(){document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)}resize(o){"chat"!==(o=o.split("/")[1])&&(document.getElementById("chats-container").style.visibility="visible")}logout(){this.authService.logout()}openProfile(){document.getElementById("div_profile").style.display="block"}updateChats(){this.eventUpdateChats.next(!0)}updateNoRead(o){if(!o.read){let a;this.store.select("chats").forEach(n=>a=n);let l=a.filter(n=>n._id!=o.chatId);const i=a.find(n=>n._id==o.chatId),t=Object.assign(Object.assign({},i),{noRead:i.noRead+1});l.push(t),this.store.dispatch(new b.vh(this.chatService.sortChats(l)))}}thereChat(o){let a;return this.store.select("chats").forEach(l=>a=l),a.find(l=>l._id==o)}listenMessages(){this.socketService.listen(O.N.events.NEW_MESSAGE).subscribe(o=>{this.thereChat(o.chatId)?(this.store.dispatch(new b.lq({myuser:this.user,message:o})),this.store.dispatch(new S.PV({chatId:o.chatId,message:o})),o.noRead||this.updateNoRead(o)):this.updateChats()})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(x.e),e.Y36(A.a),e.Y36(f.F0),e.Y36(q.$),e.Y36(N.yh))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-main"]],decls:39,vars:5,consts:[[1,"container"],["id","chats-container",1,"chats-container"],[1,"header"],[1,"header__top"],[1,"me"],[3,"src","alt"],[1,"div-menu"],["mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],[1,"icon-menu"],["xPosition","before",1,"main-menu"],["menu","matMenu"],[1,"item-menu"],["mat-menu-item","",3,"click"],[1,"mr-icon"],[1,"header__bottom"],["mat-stretch-tabs","","color","primary","backgroundColor","primary",1,"tabs"],["mat-tab-label",""],[1,"app-chats"],[3,"updateChats"],[3,"chatsUpdated"],["id","div_profile",1,"app-profile","animate__animated","animate__slideInLeft","animate__faster"],[1,"chat-container"],["src","/Senntmessages/assets/images/chat-icon.png","alt","messages icon"],["src","/Senntmessages/assets/images/users-icon.png","alt","users icon"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"header",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"button",7),e.TgZ(10,"mat-icon",8),e._uU(11,"more_vert"),e.qZA(),e.qZA(),e.TgZ(12,"mat-menu",9,10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.NdJ("click",function(){return a.openProfile()}),e.TgZ(16,"mat-icon",13),e._uU(17,"person_pin"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Profile"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"span",12),e.NdJ("click",function(){return a.logout()}),e.TgZ(22,"mat-icon",13),e._uU(23,"exit_to_app"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"Logout"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",14),e.TgZ(27,"mat-tab-group",15),e.TgZ(28,"mat-tab"),e.YNc(29,He,2,0,"ng-template",16),e.TgZ(30,"div",17),e._UZ(31,"app-chats",18),e.qZA(),e.qZA(),e.TgZ(32,"mat-tab"),e.YNc(33,ce,2,0,"ng-template",16),e.TgZ(34,"div",17),e.TgZ(35,"app-users",19),e.NdJ("chatsUpdated",function(){return a.updateChats()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(36,"app-profile",20),e.qZA(),e.TgZ(37,"div",21),e._UZ(38,"router-outlet"),e.qZA(),e.qZA()),2&o){const l=e.MAs(13);e.xp6(5),e.Q6J("src",a.user.image.url,e.LSH)("alt",a.user.name),e.xp6(2),e.Oqu(a.user.name),e.xp6(2),e.Q6J("matMenuTriggerFor",l),e.xp6(22),e.Q6J("updateChats",a.eventUpdateChats)}},directives:[k.lW,E.p6,Y.Hw,E.VK,E.OP,X.SP,X.uX,X.uD,ke,Se,Z,f.lC],styles:["[_ngcontent-%COMP%]:root{--app-height: 100%}.app-profile.animate__faster[_ngcontent-%COMP%]{--animate-duration: .7s}.chats-container[_ngcontent-%COMP%]{border-right:1px solid #c3cbcf;height:100%}.chat-container[_ngcontent-%COMP%]{max-width:calc(100vw - 410px)}.header__top[_ngcontent-%COMP%]{align-items:center;background:#44BCFF;color:#fff;display:grid;grid-template-columns:1fr 40px;padding:10px 20px 0}.header[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]{display:flex;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.header[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:default;font-size:21px;text-overflow:ellipsis;overflow:hidden}.header[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px;height:40px;width:40px;object-fit:cover;margin-right:12px}.header[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{transform:scale(1.5)}.header__bottom[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.item-menu[_ngcontent-%COMP%]{background:#fff;border-radius:50px;box-shadow:0 1px 1px #ccc;color:#fff;margin-top:10px}.item-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .item-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#757575}.item-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;margin:0 15px 0 5px;transform:scale(1.8)}.chats-container[_ngcontent-%COMP%]{position:relative;z-index:20;visibility:hidden}.mr-icon[_ngcontent-%COMP%]{margin-right:7px!important}.app-chats[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;height:calc(var(--app-height) - 98px)}.app-chats[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.app-chats[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#91d7ff}@media (min-width: 1024px){.header[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:410px 1fr}.chats-container[_ngcontent-%COMP%]{display:block;visibility:visible}.app-chats[_ngcontent-%COMP%]{height:calc(100vh - 98px)}}@media (min-width: 1651px){.chats-container[_ngcontent-%COMP%]{border:1px solid #f1f1f1}}"]}),r})(),children:[{path:"",component:C},{path:"chat/:id",loadChildren:()=>h.e(18).then(h.bind(h,4018)).then(r=>r.ChatModule)}]},{path:"**",redirectTo:"/"}];let L=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[f.Bz.forChild(V)],f.Bz]}),r})();var U=h(1002),Pe=h(1382);let Ve=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[y.ez,L,U.q,u.UX,Pe.m]]}),r})()}}]);